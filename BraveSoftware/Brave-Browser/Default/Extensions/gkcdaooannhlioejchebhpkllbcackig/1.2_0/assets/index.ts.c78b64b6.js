import{s as Ke}from"./storage.013c1453.js";function P(){}const Ze=e=>e;function dt(e,t){for(const o in t)e[o]=t[o];return e}function Ue(e){return e()}function Me(){return Object.create(null)}function J(e){e.forEach(Ue)}function ie(e){return typeof e=="function"}function W(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function mt(e){return Object.keys(e).length===0}function ht(e,t,o,n){if(e){const l=$e(e,t,o,n);return e[0](l)}}function $e(e,t,o,n){return e[1]&&n?dt(o.ctx.slice(),e[1](n(t))):o.ctx}function gt(e,t,o,n){if(e[2]&&n){const l=e[2](n(o));if(t.dirty===void 0)return l;if(typeof l=="object"){const r=[],s=Math.max(t.dirty.length,l.length);for(let c=0;c<s;c+=1)r[c]=t.dirty[c]|l[c];return r}return t.dirty|l}return t.dirty}function _t(e,t,o,n,l,r){if(l){const s=$e(t,o,n,r);e.p(s,l)}}function yt(e){if(e.ctx.length>32){const t=[],o=e.ctx.length/32;for(let n=0;n<o;n++)t[n]=-1;return t}return-1}function Pe(e){return e==null?"":e}function bt(e){return e&&ie(e.destroy)?e.destroy:P}const et=typeof window<"u";let tt=et?()=>window.performance.now():()=>Date.now(),Oe=et?e=>requestAnimationFrame(e):P;const U=new Set;function ot(e){U.forEach(t=>{t.c(e)||(U.delete(t),t.f())}),U.size!==0&&Oe(ot)}function nt(e){let t;return U.size===0&&Oe(ot),{promise:new Promise(o=>{U.add(t={c:e,f:o})}),abort(){U.delete(t)}}}function y(e,t){e.appendChild(t)}function lt(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function vt(e){const t=b("style");return wt(lt(e),t),t.sheet}function wt(e,t){return y(e.head||e,t),t.sheet}function I(e,t,o){e.insertBefore(t,o||null)}function w(e){e.parentNode.removeChild(e)}function Ce(e,t){for(let o=0;o<e.length;o+=1)e[o]&&e[o].d(t)}function b(e){return document.createElement(e)}function Z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Q(e){return document.createTextNode(e)}function M(){return Q(" ")}function rt(){return Q("")}function L(e,t,o,n){return e.addEventListener(t,o,n),()=>e.removeEventListener(t,o,n)}function a(e,t,o){o==null?e.removeAttribute(t):e.getAttribute(t)!==o&&e.setAttribute(t,o)}function St(e){return Array.from(e.childNodes)}function ee(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function ze(e,t){e.value=t==null?"":t}function v(e,t,o){e.classList[o?"add":"remove"](t)}function kt(e,t,{bubbles:o=!1,cancelable:n=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,o,n,t),l}const he=new Map;let ge=0;function It(e){let t=5381,o=e.length;for(;o--;)t=(t<<5)-t^e.charCodeAt(o);return t>>>0}function xt(e,t){const o={stylesheet:vt(t),rules:{}};return he.set(e,o),o}function it(e,t,o,n,l,r,s,c=0){const i=16.666/n;let f=`{
`;for(let g=0;g<=1;g+=i){const S=t+(o-t)*r(g);f+=g*100+`%{${s(S,1-S)}}
`}const m=f+`100% {${s(o,1-o)}}
}`,d=`__svelte_${It(m)}_${c}`,p=lt(e),{stylesheet:u,rules:h}=he.get(p)||xt(p,e);h[d]||(h[d]=!0,u.insertRule(`@keyframes ${d} ${m}`,u.cssRules.length));const _=e.style.animation||"";return e.style.animation=`${_?`${_}, `:""}${d} ${n}ms linear ${l}ms 1 both`,ge+=1,d}function Ie(e,t){const o=(e.style.animation||"").split(", "),n=o.filter(t?r=>r.indexOf(t)<0:r=>r.indexOf("__svelte")===-1),l=o.length-n.length;l&&(e.style.animation=n.join(", "),ge-=l,ge||Ot())}function Ot(){Oe(()=>{ge||(he.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&w(t)}),he.clear())})}let re;function le(e){re=e}function Ct(){if(!re)throw new Error("Function called outside component initialization");return re}function Te(e){Ct().$$.on_mount.push(e)}const oe=[],He=[],de=[],Le=[],st=Promise.resolve();let xe=!1;function ct(){xe||(xe=!0,st.then(ut))}function Tt(){return ct(),st}function $(e){de.push(e)}const Se=new Set;let pe=0;function ut(){const e=re;do{for(;pe<oe.length;){const t=oe[pe];pe++,le(t),Et(t.$$)}for(le(null),oe.length=0,pe=0;He.length;)He.pop()();for(let t=0;t<de.length;t+=1){const o=de[t];Se.has(o)||(Se.add(o),o())}de.length=0}while(oe.length);for(;Le.length;)Le.pop()();xe=!1,Se.clear(),le(e)}function Et(e){if(e.fragment!==null){e.update(),J(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach($)}}let te;function at(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function _e(e,t,o){e.dispatchEvent(kt(`${t?"intro":"outro"}${o}`))}const me=new Set;let F;function ye(){F={r:0,c:[],p:F}}function be(){F.r||J(F.c),F=F.p}function A(e,t){e&&e.i&&(me.delete(e),e.i(t))}function V(e,t,o,n){if(e&&e.o){if(me.has(e))return;me.add(e),F.c.push(()=>{me.delete(e),n&&(o&&e.d(1),n())}),e.o(t)}else n&&n()}const ft={duration:0};function Mt(e,t,o){let n=t(e,o),l=!1,r,s,c=0;function i(){r&&Ie(e,r)}function f(){const{delay:d=0,duration:p=300,easing:u=Ze,tick:h=P,css:_}=n||ft;_&&(r=it(e,0,1,p,d,u,_,c++)),h(0,1);const g=tt()+d,S=g+p;s&&s.abort(),l=!0,$(()=>_e(e,!0,"start")),s=nt(N=>{if(l){if(N>=S)return h(1,0),_e(e,!0,"end"),i(),l=!1;if(N>=g){const j=u((N-g)/p);h(j,1-j)}}return l})}let m=!1;return{start(){m||(m=!0,Ie(e),ie(n)?(n=n(),at().then(f)):f())},invalidate(){m=!1},end(){l&&(i(),l=!1)}}}function Pt(e,t,o){let n=t(e,o),l=!0,r;const s=F;s.r+=1;function c(){const{delay:i=0,duration:f=300,easing:m=Ze,tick:d=P,css:p}=n||ft;p&&(r=it(e,1,0,f,i,m,p));const u=tt()+i,h=u+f;$(()=>_e(e,!1,"start")),nt(_=>{if(l){if(_>=h)return d(0,1),_e(e,!1,"end"),--s.r||J(s.c),!1;if(_>=u){const g=m((_-u)/f);d(1-g,g)}}return l})}return ie(n)?at().then(()=>{n=n(),c()}):c(),{end(i){i&&n.tick&&n.tick(1,0),l&&(r&&Ie(e,r),l=!1)}}}function Ee(e){e&&e.c()}function ve(e,t,o,n){const{fragment:l,after_update:r}=e.$$;l&&l.m(t,o),n||$(()=>{const s=e.$$.on_mount.map(Ue).filter(ie);e.$$.on_destroy?e.$$.on_destroy.push(...s):J(s),e.$$.on_mount=[]}),r.forEach($)}function we(e,t){const o=e.$$;o.fragment!==null&&(J(o.on_destroy),o.fragment&&o.fragment.d(t),o.on_destroy=o.fragment=null,o.ctx=[])}function zt(e,t){e.$$.dirty[0]===-1&&(oe.push(e),ct(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function se(e,t,o,n,l,r,s,c=[-1]){const i=re;le(e);const f=e.$$={fragment:null,ctx:[],props:r,update:P,not_equal:l,bound:Me(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(i?i.$$.context:[])),callbacks:Me(),dirty:c,skip_bound:!1,root:t.target||i.$$.root};s&&s(f.root);let m=!1;if(f.ctx=o?o(e,t.props||{},(d,p,...u)=>{const h=u.length?u[0]:p;return f.ctx&&l(f.ctx[d],f.ctx[d]=h)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](h),m&&zt(e,d)),p}):[],f.update(),m=!0,J(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const d=St(t.target);f.fragment&&f.fragment.l(d),d.forEach(w)}else f.fragment&&f.fragment.c();t.intro&&A(e.$$.fragment),ve(e,t.target,t.anchor,t.customElement),ut()}le(i)}class ce{$destroy(){we(this,1),this.$destroy=P}$on(t,o){if(!ie(o))return P;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(o),()=>{const l=n.indexOf(o);l!==-1&&n.splice(l,1)}}$set(t){this.$$set&&!mt(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ht(e){const t=o=>{e&&!e.contains(o.target)&&!o.defaultPrevented&&e.dispatchEvent(new CustomEvent("click_outside",e))};return document.addEventListener("click",t,!0),{destroy(){document.removeEventListener("click",t,!0)}}}function Lt(e){return e*e*e}function pt(e){const t=e-1;return t*t*t+1}function Ne(e,{delay:t=0,duration:o=400,easing:n=pt,start:l=0,opacity:r=0}={}){const s=getComputedStyle(e),c=+s.opacity,i=s.transform==="none"?"":s.transform,f=1-l,m=c*(1-r);return{delay:t,duration:o,easing:n,css:(d,p)=>`
			transform: ${i} scale(${1-f*p});
			opacity: ${c-m*p}
		`}}function qe(e,t,o){const n=e.slice();return n[13]=t[o],n}function Ae(e){let t;return{c(){t=b("span"),t.innerHTML='<svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd"></path></svg>',a(t,"class","checkmark svelte-1qeivut"),v(t,"text-primary",!e[13].selected),v(t,"text-white",e[13].selected)},m(o,n){I(o,t,n)},p(o,n){n&4&&v(t,"text-primary",!o[13].selected),n&4&&v(t,"text-white",o[13].selected)},d(o){o&&w(t)}}}function Be(e){let t,o=e[13].description+"",n;return{c(){t=b("p"),n=Q(o),a(t,"class","selected-description-color mt-2 svelte-1qeivut"),v(t,"text-primaryLight",e[13].selected),v(t,"text-descriptionTextColor",!e[13].selected)},m(l,r){I(l,t,r),y(t,n)},p(l,r){r&4&&o!==(o=l[13].description+"")&&ee(n,o),r&4&&v(t,"text-primaryLight",l[13].selected),r&4&&v(t,"text-descriptionTextColor",!l[13].selected)},d(l){l&&w(t)}}}function je(e){let t,o,n,l,r=e[13].title+"",s,c,i,f,m,d,p=e[13].selected&&Ae(e),u=e[13].description&&Be(e);function h(){return e[10](e[13])}return{c(){t=b("li"),o=b("div"),n=b("div"),l=b("p"),s=Q(r),c=M(),p&&p.c(),i=M(),u&&u.c(),f=M(),v(l,"font-normal",!e[13].selected),v(l,"font-semibold",e[13].selected),a(n,"class","flex justify-between"),a(o,"class","flex flex-col"),a(t,"class","pure-menu-item menu-item cursor-default select-none p-4 text-sm text-titleTextColor hover:bg-primary hover:text-white svelte-1qeivut"),a(t,"id","listbox-option-0"),v(t,"bg-primary",e[13].selected),v(t,"bg-backgroundOption",!e[13].selected)},m(_,g){I(_,t,g),y(t,o),y(o,n),y(n,l),y(l,s),y(n,c),p&&p.m(n,null),y(o,i),u&&u.m(o,null),y(t,f),m||(d=L(t,"click",h),m=!0)},p(_,g){e=_,g&4&&r!==(r=e[13].title+"")&&ee(s,r),g&4&&v(l,"font-normal",!e[13].selected),g&4&&v(l,"font-semibold",e[13].selected),e[13].selected?p?p.p(e,g):(p=Ae(e),p.c(),p.m(n,null)):p&&(p.d(1),p=null),e[13].description?u?u.p(e,g):(u=Be(e),u.c(),u.m(o,null)):u&&(u.d(1),u=null),g&4&&v(t,"bg-primary",e[13].selected),g&4&&v(t,"bg-backgroundOption",!e[13].selected)},d(_){_&&w(t),p&&p.d(),u&&u.d(),m=!1,d()}}}function Nt(e){let t,o,n,l,r,s,c,i,f,m,d,p,u,h,_,g,S,N,j,q=e[2],E=[];for(let T=0;T<q.length;T+=1)E[T]=je(qe(e,q,T));return{c(){t=b("div"),o=b("div"),n=b("div"),l=b("div"),r=Z("svg"),s=Z("path"),c=M(),i=b("p"),f=Q(e[0]),m=M(),d=b("button"),d.innerHTML=`<span class="sr-only">Change published status</span> 
        
        <svg class="h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd"></path></svg>`,p=M(),u=b("div"),h=b("ul");for(let T=0;T<E.length;T+=1)E[T].c();a(s,"fill-rule","evenodd"),a(s,"d","M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z"),a(s,"clip-rule","evenodd"),a(r,"class","h-5 w-5"),a(r,"xmlns","http://www.w3.org/2000/svg"),a(r,"viewBox","0 0 20 20"),a(r,"fill","currentColor"),a(r,"aria-hidden","true"),a(i,"class","ml-2.5 text-sm font-medium"),a(l,"class","inline-flex items-center rounded-l-md border border-transparent bg-primary py-2 pl-3 pr-4 text-white shadow-sm"),a(d,"type","button"),a(d,"class","button-color inline-flex items-center rounded-l-none rounded-r-md bg-opacity-100 bg-primary p-2 text-sm font-medium text-white hover:bg-primaryHover focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-gray-50 svelte-1qeivut"),a(d,"aria-haspopup","listbox"),a(d,"aria-expanded","true"),a(d,"aria-labelledby","listbox-label"),a(n,"class","inline-flex divide-x divide-primaryHover rounded-md shadow-sm "),a(h,"class","pure-menu-list absolute right-0 z-10 mt-2 w-60 divide-y divide-optionBorder overflow-hidden rounded-md bg-backgroundOption shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none svelte-1qeivut"),a(h,"tabindex","-1"),a(h,"role","listbox"),a(h,"aria-labelledby","listbox-label"),a(h,"aria-activedescendant","listbox-option-0"),a(u,"id","select-menu"),a(u,"class","pure-menu pure-menu-scrollable custom-restricted absolute right-0 max-w-fit origin-top-right rounded-md shadow-lg svelte-1qeivut"),v(u,"block",e[1]),v(u,"hidden",!e[1]),a(o,"class","relative"),a(t,"class","select-menu mx-auto flex w-full max-w-xs justify-end")},m(T,G){I(T,t,G),y(t,o),y(o,n),y(n,l),y(l,r),y(r,s),y(l,c),y(l,i),y(i,f),y(n,m),y(n,d),y(o,p),y(o,u),y(u,h);for(let z=0;z<E.length;z+=1)E[z].m(h,null);S=!0,N||(j=[L(d,"click",e[9]),bt(Ht.call(null,u)),L(u,"click_outside",e[3])],N=!0)},p(T,[G]){if(e=T,(!S||G&1)&&ee(f,e[0]),G&20){q=e[2];let z;for(z=0;z<q.length;z+=1){const D=qe(e,q,z);E[z]?E[z].p(D,G):(E[z]=je(D),E[z].c(),E[z].m(h,null))}for(;z<E.length;z+=1)E[z].d(1);E.length=q.length}(!S||G&2)&&v(u,"block",e[1]),(!S||G&2)&&v(u,"hidden",!e[1])},i(T){S||($(()=>{g&&g.end(1),_=Mt(u,Ne,{duration:300,start:.95,easing:pt}),_.start()}),S=!0)},o(T){_&&_.invalidate(),g=Pt(u,Ne,{duration:75,start:.95,easing:Lt}),S=!1},d(T){T&&w(t),Ce(E,T),T&&g&&g.end(),N=!1,J(j)}}}function qt(e,t,o){let{promptSelect:n}=t,{promptSelectedOptionId:l}=t,{promptSelectedOptionTitle:r}=t,s="",{updatePromptSelectOptionId:c=(g,S)=>{}}=t,i=!1,f=(n==null?void 0:n.promptOptions)===void 0?[]:n==null?void 0:n.promptOptions;Te(()=>{function g(q){return q.getBoundingClientRect().top+window.scrollY}let S=g(document.querySelector(".select-menu")),j=window.innerHeight-S-100;document.getElementById("select-menu").style.maxHeight=j+"px",o(0,s=m())});function m(){return l==""?(n==null?void 0:n.promptSelectId)==="category"?o(0,s="Select a Category"):(n==null?void 0:n.promptSelectId)==="subcategory"?o(0,s="Select a Subcategory"):(n==null?void 0:n.promptSelectId)==="prompt"?o(0,s="Select a Prompt"):o(0,s=n==null?void 0:n.title):o(0,s=r),s}function d(){o(1,i=!1)}function p(g){d(),o(6,l=g),u()}function u(){c(n==null?void 0:n.promptSelectId,l),f==null||f.forEach(g=>{g.promptOptionId===l?(g.selected=!0,o(7,r=g.title)):g.selected=!1}),o(5,n),o(2,f),m()}const h=()=>o(1,i=!i),_=g=>p(g.promptOptionId);return e.$$set=g=>{"promptSelect"in g&&o(5,n=g.promptSelect),"promptSelectedOptionId"in g&&o(6,l=g.promptSelectedOptionId),"promptSelectedOptionTitle"in g&&o(7,r=g.promptSelectedOptionTitle),"updatePromptSelectOptionId"in g&&o(8,c=g.updatePromptSelectOptionId)},e.$$.update=()=>{e.$$.dirty&2,e.$$.dirty&32,e.$$.dirty&4,e.$$.dirty&64,e.$$.dirty&128,e.$$.dirty&1},u(),[s,i,f,d,p,n,l,r,c,h,_]}class ne extends ce{constructor(t){super(),se(this,t,qt,Nt,W,{promptSelect:5,promptSelectedOptionId:6,promptSelectedOptionTitle:7,updatePromptSelectOptionId:8})}}function Re(e,t,o){const n=e.slice();return n[29]=t[o],n}function At(e){let t,o,n,l,r;function s(...c){return e[12](e[29],...c)}return{c(){var c,i;t=b("textarea"),a(t,"rows","4"),a(t,"name","prompt_textarea"),a(t,"placeholder",o=(c=e[29])==null?void 0:c.title),a(t,"id",n=(i=e[29])==null?void 0:i.promptSelectId),a(t,"class","focus:text-gray-300 text-gray-500 block w-full rounded-md bg-gray-900 border border-gray-600 px-3 py-2 placeholder-gray-400 shadow-sm outline-primary focus:border-primary focus:outline-none focus:ring-primary ring-primary sm:text-sm")},m(c,i){I(c,t,i),l||(r=L(t,"input",s),l=!0)},p(c,i){var f,m;e=c,i[0]&1&&o!==(o=(f=e[29])==null?void 0:f.title)&&a(t,"placeholder",o),i[0]&1&&n!==(n=(m=e[29])==null?void 0:m.promptSelectId)&&a(t,"id",n)},i:P,o:P,d(c){c&&w(t),l=!1,r()}}}function Bt(e){let t,o,n,l,r;function s(...c){return e[11](e[29],...c)}return{c(){var c,i;t=b("input"),a(t,"id",o=(c=e[29])==null?void 0:c.promptSelectId),a(t,"name","prompt_input"),a(t,"type","text"),a(t,"placeholder",n=(i=e[29])==null?void 0:i.title),a(t,"autocomplete","prompt_id"),a(t,"class","focus:text-gray-300 text-gray-500 block w-full rounded-md bg-gray-900 border border-gray-600 px-3 py-2 placeholder-gray-400 shadow-sm outline-primary focus:border-primary focus:outline-none focus:ring-primary ring-primary sm:text-sm svelte-kfjl7l")},m(c,i){I(c,t,i),l||(r=L(t,"input",s),l=!0)},p(c,i){var f,m;e=c,i[0]&1&&o!==(o=(f=e[29])==null?void 0:f.promptSelectId)&&a(t,"id",o),i[0]&1&&n!==(n=(m=e[29])==null?void 0:m.title)&&a(t,"placeholder",n)},i:P,o:P,d(c){c&&w(t),l=!1,r()}}}function jt(e){let t,o;return t=new ne({props:{promptSelect:e[29],promptSelectedOptionId:e[2],promptSelectedOptionTitle:e[3],updatePromptSelectOptionId:e[6]}}),{c(){Ee(t.$$.fragment)},m(n,l){ve(t,n,l),o=!0},p(n,l){const r={};l[0]&1&&(r.promptSelect=n[29]),l[0]&4&&(r.promptSelectedOptionId=n[2]),t.$set(r)},i(n){o||(A(t.$$.fragment,n),o=!0)},o(n){V(t.$$.fragment,n),o=!1},d(n){we(t,n)}}}function Ve(e){var u;let t,o=((u=e[29])==null?void 0:u.description)+"",n,l,r,s,c,i,f;const m=[jt,Bt,At],d=[];function p(h,_){var g,S;return((g=h[29])==null?void 0:g.type)==="select"?0:((S=h[29])==null?void 0:S.type)==="input"?1:2}return s=p(e),c=d[s]=m[s](e),{c(){t=b("div"),n=Q(o),l=M(),r=b("div"),c.c(),i=M(),a(t,"class","mt-4 text-sm font-semibold text-descriptionTextColor"),a(r,"class","mt-4")},m(h,_){I(h,t,_),y(t,n),I(h,l,_),I(h,r,_),d[s].m(r,null),y(r,i),f=!0},p(h,_){var S;(!f||_[0]&1)&&o!==(o=((S=h[29])==null?void 0:S.description)+"")&&ee(n,o);let g=s;s=p(h),s===g?d[s].p(h,_):(ye(),V(d[g],1,1,()=>{d[g]=null}),be(),c=d[s],c?c.p(h,_):(c=d[s]=m[s](h),c.c()),A(c,1),c.m(r,i))},i(h){f||(A(c),f=!0)},o(h){V(c),f=!1},d(h){h&&w(t),h&&w(l),h&&w(r),d[s].d()}}}function Ge(e){let t,o,n=e[0],l=[];for(let s=0;s<n.length;s+=1)l[s]=Ve(Re(e,n,s));const r=s=>V(l[s],1,1,()=>{l[s]=null});return{c(){for(let s=0;s<l.length;s+=1)l[s].c();t=rt()},m(s,c){for(let i=0;i<l.length;i+=1)l[i].m(s,c);I(s,t,c),o=!0},p(s,c){if(c[0]&109){n=s[0];let i;for(i=0;i<n.length;i+=1){const f=Re(s,n,i);l[i]?(l[i].p(f,c),A(l[i],1)):(l[i]=Ve(f),l[i].c(),A(l[i],1),l[i].m(t.parentNode,t))}for(ye(),i=n.length;i<l.length;i+=1)r(i);be()}},i(s){if(!o){for(let c=0;c<n.length;c+=1)A(l[c]);o=!0}},o(s){l=l.filter(Boolean);for(let c=0;c<l.length;c+=1)V(l[c]);o=!1},d(s){Ce(l,s),s&&w(t)}}}function Je(e){let t;return{c(){t=Q(e[1])},m(o,n){I(o,t,n)},p(o,n){n[0]&2&&ee(t,o[1])},d(o){o&&w(t)}}}function Rt(e){let t,o=e[0],n,l,r,s,c,i,f,m,d,p,u,h=Ge(e),_=e[1]&&Je(e);return{c(){t=b("div"),h.c(),n=M(),l=b("div"),r=b("button"),r.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"></path></svg>',s=M(),c=b("label"),c.textContent="Prompt:",i=M(),f=b("div"),m=b("div"),_&&_.c(),a(t,"class","bg-black rounded-xl p-4 mt-2"),a(r,"class","float-right text-primaryLight"),a(c,"for","prompt"),a(c,"class","block text-sm font-semibold text-descriptionTextColor"),a(m,"id","prompt-result"),a(m,"class","text-sm font-normal text-outputTextColor"),a(f,"class","mt-1"),a(l,"class","mt-8 p-4")},m(g,S){I(g,t,S),h.m(t,null),I(g,n,S),I(g,l,S),y(l,r),y(l,s),y(l,c),y(l,i),y(l,f),y(f,m),_&&_.m(m,null),d=!0,p||(u=L(r,"click",e[13]),p=!0)},p(g,S){S[0]&1&&W(o,o=g[0])?(ye(),V(h,1,1,P),be(),h=Ge(g),h.c(),A(h,1),h.m(t,null)):h.p(g,S),g[1]?_?_.p(g,S):(_=Je(g),_.c(),_.m(m,null)):_&&(_.d(1),_=null)},i(g){d||(A(h),d=!0)},o(g){V(h),d=!1},d(g){g&&w(t),h.d(g),g&&w(n),g&&w(l),_&&_.d(),p=!1,u()}}}function Vt(){var e=document.getElementById("prompt-result");e.classList.add("fade-bg"),setTimeout(function(){e.classList.remove("fade-bg")},300)}async function Gt(e){return await fetch(`https://promptstorm.app/api/choice-${e}`,{method:"GET"}).then(t=>t.json())}function Jt(e,t,o){let{selectedPrompt:n}=t,l,r,s=[],c=[],i=n==null?void 0:n.prompt,f,m=[],d=[],p;console.log("selectedPrompt: "+JSON.stringify(n)),Te(async()=>{p=window.location.href,p!=null&&p.includes("chat.openai.com")&&new MutationObserver(_).observe(u,h),o(1,f=await q(i))});const u=document.querySelector("button.absolute"),h={attributes:!0};function _(k,x){k.forEach(function(C){C.type==="attributes"&&C.attributeName==="class"&&(console.log("class changed to: ",C.target.classList.length),C.target.classList.length==15&&(console.log("prompt submitted"),chrome.runtime.sendMessage({type:"addHistory",message:{prompt_id:n.prompt_id,prompt:f,choices:s}})))})}S().then(async()=>{j().then(async()=>{console.log("promptSelects: "+JSON.stringify(c)),o(2,l=""),o(0,c),o(1,f=await q(i))})});const g=async()=>{let k=document.getElementById("prompt-result").innerHTML;Vt();try{await navigator.clipboard.writeText(k),console.log("Prompt copied to clipboard")}catch(x){console.error("Failed to copy: ",x)}};async function S(){var k;if(n!=null&&n.options&&((k=n==null?void 0:n.options)==null?void 0:k.length)>0){const x=await fetch("https://promptstorm.app/api/options-"+n.options,{method:"GET"});if(o(10,d=await x.json()),!x.ok)throw new Error("Options retrieval error: "+x.statusText);console.log("promptOptions: "+JSON.stringify(d))}}async function N(k){console.log("createPromptSelect option_id: "+JSON.stringify(k));let x=[],C={promptSelectId:"",title:"",description:"",type:""};if(d)return d==null||d.forEach(O=>{if(O.option_id==k){const H={promptOptionId:O.choice_id,promptSelectId:O.option_id,title:O.choice_title,description:O.choice_description,type:O.type};x.push(H),C={promptSelectId:O.option_id,title:O.title,description:O.description,type:O.type}}}),x[0].title=="1"&&x.sort((O,H)=>Number(O.title)-Number(H.title)),{promptSelectId:C.promptSelectId,promptId:n.prompt_id,title:C.title,description:C==null?void 0:C.description,type:C.type,promptOptions:x}}async function j(){var k;(k=n.options)==null||k.forEach(async x=>{N(x).then(C=>{c.push(C)})})}async function q(k){var B,ue;o(9,m=k==null?void 0:k.split(" "));let x=0,C="",R="",O=[];if((m==null?void 0:m.length)>0)for(let X of m){if(R="",X.match(/^(\[\])/)){let ae=!1;R=X.substring(2);for(const fe of s)fe.promptOptionId===((B=c[x])==null?void 0:B.promptSelectId)&&ae===!1&&(fe.promptWording?(X=fe.promptWording,ae=!0,x++):(X=(await Gt(fe.promptChoiceId)).wording,ae=!0,x++));ae||(C=((ue=c[x])==null?void 0:ue.title)||"input needed",X="["+C+"]",x++)}O.push(X+R)}let H=O.join(" ");return p!=null&&p.includes("chat.openai.com")&&(document.querySelector("textarea").value=H,document.querySelector("textarea").dispatchEvent(new Event("input",{bubbles:!0}))),H}function E(k,x){let C=!1;s==null||s.forEach(R=>{R.promptOptionId===k&&(R.promptWording=x,C=!0)}),C||s.push({promptOptionId:k,promptWording:x}),o(8,i=i+" "),o(8,i=i.trim())}function T(k,x){let C=!1;x&&(s==null||s.forEach(R=>{R.promptOptionId===k&&(R.promptChoiceId=x,C=!0)}),C||s.push({promptOptionId:k,promptChoiceId:x})),o(8,i=i+" "),o(8,i=i.trim()),console.log("promptAnswers: "+JSON.stringify(s))}const G=(k,x)=>E(k==null?void 0:k.promptSelectId,x.currentTarget.value),z=(k,x)=>E(k==null?void 0:k.promptSelectId,x.currentTarget.value),D=()=>g();return e.$$set=k=>{"selectedPrompt"in k&&o(7,n=k.selectedPrompt)},e.$$.update=()=>{e.$$.dirty[0]&512,e.$$.dirty[0]&256,e.$$.dirty[0]&1,e.$$.dirty[0]&256&&(async()=>o(1,f=await q(i)))(),e.$$.dirty[0]&2,e.$$.dirty[0]&1024},S(),[c,f,l,r,g,E,T,n,i,m,d,G,z,D]}class Ft extends ce{constructor(t){super(),se(this,t,Jt,Rt,W,{selectedPrompt:7},null,[-1,-1])}}const Y=[];function Qt(e,t=P){let o;const n=new Set;function l(c){if(W(e,c)&&(e=c,o)){const i=!Y.length;for(const f of n)f[1](),Y.push(f,e);if(i){for(let f=0;f<Y.length;f+=2)Y[f][0](Y[f+1]);Y.length=0}}}function r(c){l(c(e))}function s(c,i=P){const f=[c,i];return n.add(f),n.size===1&&(o=t(l)||P),c(e),()=>{n.delete(f),n.size===0&&(o(),o=null)}}return{set:l,update:r,subscribe:s}}const ke=Qt("");function Wt(e){let t,o,n,l,r,s,c,i,f,m;return{c(){t=b("div"),o=b("div"),n=b("label"),n.textContent="Search",l=M(),r=b("div"),s=b("div"),s.innerHTML='<svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z" clip-rule="evenodd"></path></svg>',c=M(),i=b("input"),a(n,"for","search"),a(n,"class","sr-only"),a(s,"class","pointer-events-none absolute inset-y-0 left-0 pl-3 flex items-center"),a(i,"id","search"),a(i,"class","block w-full text-titleTextColor bg-gray-900 py-2 pl-10 outline-none outline-primary focus:border-primary focus:ring-primary pr-3 border-1 border-solid border-gray-600 rounded-md leading-5 focus:text-gray-100 placeholder-gray-400 focus:bg-opacity-100 focus:placeholder-gray-300 sm:text-sm svelte-1qi771i"),a(i,"placeholder","Search prompts..."),a(i,"type","search"),a(i,"name","search"),a(r,"class","relative text-primary focus-within:text-primaryHover"),a(o,"class","mx-auto w-full min-w-3xl"),a(t,"class","flex-grow")},m(d,p){I(d,t,p),y(t,o),y(o,n),y(o,l),y(o,r),y(r,s),y(r,c),y(r,i),ze(i,e[0]),f||(m=[L(i,"keypress",e[1]),L(i,"input",e[2]),L(i,"input",e[5])],f=!0)},p(d,[p]){p&1&&ze(i,d[0])},i:P,o:P,d(d){d&&w(t),f=!1,J(m)}}}function Dt(e,t,o){let{submitSearch:n=f=>{}}=t,{clearSearch:l=()=>{}}=t,r="";ke.subscribe(f=>{o(0,r=f)});function s(f){o(0,r=document.getElementById("search").value),console.log("updateQuery fired: "+r),r.length>1&&n(r),f.code=="Enter"&&ke.set(r)}function c(){o(0,r=document.getElementById("search").value),r.length===0&&(console.log("resetQuery fired."+r),l(),ke.set(r))}function i(){r=this.value,o(0,r)}return e.$$set=f=>{"submitSearch"in f&&o(3,n=f.submitSearch),"clearSearch"in f&&o(4,l=f.clearSearch)},[r,s,c,n,l,i]}class Xt extends ce{constructor(t){super(),se(this,t,Dt,Wt,W,{submitSearch:3,clearSearch:4})}}function Yt(e){let t,o,n,l,r,s,c,i,f;const m=e[6].default,d=ht(m,e,e[5],null);return{c(){t=b("div"),o=b("div"),o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-logo"><path fill-rule="evenodd" d="M14.615 1.595a.75.75 0 01.359.852L12.982 9.75h7.268a.75.75 0 01.548 1.262l-10.5 11.25a.75.75 0 01-1.272-.71l1.992-7.302H3.75a.75.75 0 01-.548-1.262l10.5-11.25a.75.75 0 01.913-.143z" clip-rule="evenodd"></path></svg>',n=M(),l=b("div"),d&&d.c(),a(o,"class","nub svelte-1sgdabs"),a(l,"class","side-menu-content pt-4 p-10 svelte-1sgdabs"),a(t,"class",r=Pe(`side-menu ${e[3]}`)+" svelte-1sgdabs"),a(t,"style",s=`--sm-top: ${e[1]}`),v(t,"active",e[0]),v(t,"right",e[2])},m(p,u){I(p,t,u),y(t,o),y(t,n),y(t,l),d&&d.m(l,null),c=!0,i||(f=L(o,"click",e[7]),i=!0)},p(p,[u]){d&&d.p&&(!c||u&32)&&_t(d,m,p,p[5],c?gt(m,p[5],u,null):yt(p[5]),null),(!c||u&8&&r!==(r=Pe(`side-menu ${p[3]}`)+" svelte-1sgdabs"))&&a(t,"class",r),(!c||u&2&&s!==(s=`--sm-top: ${p[1]}`))&&a(t,"style",s),(!c||u&9)&&v(t,"active",p[0]),(!c||u&12)&&v(t,"right",p[2])},i(p){c||(A(d,p),c=!0)},o(p){V(d,p),c=!1},d(p){p&&w(t),d&&d.d(p),i=!1,f()}}}function Kt(e,t,o){let{$$slots:n={},$$scope:l}=t,{top:r="10px"}=t,{active:s=!1}=t,{right:c=!1}=t,{theme:i="default"}=t;function f(){o(0,s=!s),s?(document.body.style.transform="translateX(-390px)",document.body.style.transition="transform 0.2s var(--ease_in_out_quint, cubic-bezier(0.83, 0, 0.17, 1))"):(document.body.classList.remove("push-left"),document.body.style.marginLeft="0px",document.body.style.transform="translateX(0px)")}const m=()=>f();return e.$$set=d=>{"top"in d&&o(1,r=d.top),"active"in d&&o(0,s=d.active),"right"in d&&o(2,c=d.right),"theme"in d&&o(3,i=d.theme),"$$scope"in d&&o(5,l=d.$$scope)},[s,r,c,i,f,l,n,m]}class Zt extends ce{constructor(t){super(),se(this,t,Kt,Yt,W,{top:1,active:0,right:2,theme:3})}}function Ut(e,t,o){const n=[];return o==null||o.forEach(r=>{const s={promptOptionId:r.category_id,promptSelectId:t.option_id,title:r.category};n.push(s)}),{promptSelectId:t.option_id,promptId:void 0,title:t.title,type:t.type,promptOptions:n}}function $t(e,t,o){const n=[];return o==null||o.forEach(r=>{const s={promptOptionId:r.subcategory_id,promptSelectId:t.option_id,title:r.subcategory};n.push(s)}),{promptSelectId:t.option_id,promptId:void 0,title:t.title,type:t.type,promptOptions:n}}function eo(e,t,o){const n=[];return o==null||o.forEach(r=>{const s={promptOptionId:r.prompt_id,promptSelectId:t.option_id,title:(r==null?void 0:r.description)||""};n.push(s)}),{promptSelectId:t.option_id,promptId:void 0,title:t.title,type:t.type,promptOptions:n}}function Fe(e,t,o){const n=e.slice();return n[27]=t[o],n}function Qe(e){let t,o,n,l,r,s,c,i,f,m,d,p;return{c(){t=b("div"),o=b("div"),n=b("button"),l=Z("svg"),r=Z("path"),s=b("span"),s.textContent="Categories",c=b("button"),i=Z("svg"),f=Z("path"),m=b("span"),m.textContent="Search",a(r,"d","M5.127 3.502L5.25 3.5h9.5c.041 0 .082 0 .123.002A2.251 2.251 0 0012.75 2h-5.5a2.25 2.25 0 00-2.123 1.502zM1 10.25A2.25 2.25 0 013.25 8h13.5A2.25 2.25 0 0119 10.25v5.5A2.25 2.25 0 0116.75 18H3.25A2.25 2.25 0 011 15.75v-5.5zM3.25 6.5c-.04 0-.082 0-.123.002A2.25 2.25 0 015.25 5h9.5c.98 0 1.814.627 2.123 1.502a3.819 3.819 0 00-.123-.002H3.25z"),a(l,"xmlns","http://www.w3.org/2000/svg"),a(l,"viewBox","0 0 20 20"),a(l,"fill","none"),a(l,"class","w-5 h-5 flex-none"),a(l,"stroke-width","1.5"),a(l,"stroke-linecap","round"),a(l,"stroke-linejoin","round"),v(l,"stroke-primary",e[0]),v(l,"stroke-slate-800",!e[0]),a(s,"class","ml-2 "),v(s,"text-slate-300",e[0]),v(s,"text-slate-800",!e[0]),a(n,"class","flex grow items-center rounded-md py-[0.4375rem] pl-2 pr-2 text-sm font-semibold lg:pr-3"),a(n,"id","headlessui-tabs-tab-464"),a(n,"role","tab"),a(n,"type","button"),a(n,"aria-selected","true"),a(n,"tabindex","0"),a(n,"data-headlessui-state","selected"),a(n,"aria-controls","headlessui-tabs-panel-466"),v(n,"bg-gray-900",e[0]),v(n,"shadow",e[0]),a(f,"fill-rule","evenodd"),a(f,"d","M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"),a(f,"clip-rule","evenodd"),a(i,"xmlns","http://www.w3.org/2000/svg"),a(i,"viewBox","0 0 20 20"),a(i,"fill","none"),a(i,"class","h-5 w-5 flex-none "),a(i,"stroke-width","1.5"),a(i,"stroke-linecap","round"),a(i,"stroke-linejoin","round"),v(i,"stroke-primary",!e[0]),v(i,"stroke-slate-800",e[0]),a(m,"class","ml-2 "),v(m,"text-slate-300",!e[0]),v(m,"text-slate-800",e[0]),a(c,"class","flex grow items-center rounded-md py-[0.4375rem] pl-8 pr-2 text-sm font-semibold"),a(c,"id","headlessui-tabs-tab-465"),a(c,"role","tab"),a(c,"type","button"),a(c,"aria-selected","false"),a(c,"tabindex","-1"),a(c,"data-headlessui-state",""),a(c,"aria-controls","headlessui-tabs-panel-467"),v(c,"bg-gray-900",!e[0]),v(c,"shadow",!e[0]),a(o,"class","flex space-x-1 rounded-lg bg-slate-600 p-0.5"),a(o,"role","tablist"),a(o,"aria-orientation","horizontal"),a(t,"class","text-primaryLight mt-4")},m(u,h){I(u,t,h),y(t,o),y(o,n),y(n,l),y(l,r),y(n,s),y(o,c),y(c,i),y(i,f),y(c,m),d||(p=[L(n,"click",e[16]),L(c,"click",e[17])],d=!0)},p(u,h){h&1&&v(l,"stroke-primary",u[0]),h&1&&v(l,"stroke-slate-800",!u[0]),h&1&&v(s,"text-slate-300",u[0]),h&1&&v(s,"text-slate-800",!u[0]),h&1&&v(n,"bg-gray-900",u[0]),h&1&&v(n,"shadow",u[0]),h&1&&v(i,"stroke-primary",!u[0]),h&1&&v(i,"stroke-slate-800",u[0]),h&1&&v(m,"text-slate-300",!u[0]),h&1&&v(m,"text-slate-800",u[0]),h&1&&v(c,"bg-gray-900",!u[0]),h&1&&v(c,"shadow",!u[0])},d(u){u&&w(t),d=!1,J(p)}}}function to(e){let t;return{c(){t=b("div"),t.innerHTML=`<div id="category" class="mt-6"></div> 
      <div id="subcategory" class="mt-6"></div> 
      <div id="prompts" class="mt-6"></div> 
      <div id="prompt" class="mt-6"></div>`,a(t,"class","container")},m(o,n){I(o,t,n)},p:P,i:P,o:P,d(o){o&&w(t)}}}function oo(e){let t,o,n,l,r,s,c,i;o=new Xt({props:{submitSearch:e[6],clearSearch:e[7]}});let f=e[2],m=[];for(let u=0;u<f.length;u+=1)m[u]=We(Fe(e,f,u));let d=e[1]&&De(),p=e[2].length>0&&Xe();return{c(){t=b("div"),Ee(o.$$.fragment),n=M();for(let u=0;u<m.length;u+=1)m[u].c();l=M(),d&&d.c(),r=M(),p&&p.c(),s=M(),c=b("div"),a(t,"class","mt-6 mb-6"),a(c,"id","prompt"),a(c,"class","mt-6")},m(u,h){I(u,t,h),ve(o,t,null),I(u,n,h);for(let _=0;_<m.length;_+=1)m[_].m(u,h);I(u,l,h),d&&d.m(u,h),I(u,r,h),p&&p.m(u,h),I(u,s,h),I(u,c,h),i=!0},p(u,h){if(h&20){f=u[2];let _;for(_=0;_<f.length;_+=1){const g=Fe(u,f,_);m[_]?m[_].p(g,h):(m[_]=We(g),m[_].c(),m[_].m(l.parentNode,l))}for(;_<m.length;_+=1)m[_].d(1);m.length=f.length}u[1]?d||(d=De(),d.c(),d.m(r.parentNode,r)):d&&(d.d(1),d=null),u[2].length>0?p||(p=Xe(),p.c(),p.m(s.parentNode,s)):p&&(p.d(1),p=null)},i(u){i||(A(o.$$.fragment,u),i=!0)},o(u){V(o.$$.fragment,u),i=!1},d(u){u&&w(t),we(o),u&&w(n),Ce(m,u),u&&w(l),d&&d.d(u),u&&w(r),p&&p.d(u),u&&w(s),u&&w(c)}}}function no(e){let t,o,n,l,r,s,c,i;return{c(){t=b("div"),t.textContent="Please register or sign in to Prompt Storm.",o=M(),n=b("span"),l=b("button"),l.innerHTML=`<svg class="-ml-0.5 h-5 w-5 text-primary" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path d="M10 8a3 3 0 100-6 3 3 0 000 6zM3.465 14.493a1.23 1.23 0 00.41 1.412A9.957 9.957 0 0010 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 00-13.074.003z"></path></svg>

        Register`,r=M(),s=b("button"),s.innerHTML=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-5 w-5 text-primary"><path fill-rule="evenodd" d="M3 4.25A2.25 2.25 0 015.25 2h5.5A2.25 2.25 0 0113 4.25v2a.75.75 0 01-1.5 0v-2a.75.75 0 00-.75-.75h-5.5a.75.75 0 00-.75.75v11.5c0 .414.336.75.75.75h5.5a.75.75 0 00.75-.75v-2a.75.75 0 011.5 0v2A2.25 2.25 0 0110.75 18h-5.5A2.25 2.25 0 013 15.75V4.25z" clip-rule="evenodd"></path><path fill-rule="evenodd" d="M19 10a.75.75 0 00-.75-.75H8.704l1.048-.943a.75.75 0 10-1.004-1.114l-2.5 2.25a.75.75 0 000 1.114l2.5 2.25a.75.75 0 101.004-1.114l-1.048-.943h9.546A.75.75 0 0019 10z" clip-rule="evenodd"></path></svg> 
        <span class="pl-1">Sign in</span>`,a(t,"class","text-descriptionTextColor mt-4"),a(l,"class","text-titleTextColor relative inline-flex items-center gap-x-1.5 rounded-l-md bg-slate-600 px-3 py-2 text-sm font-semibold ring-1 ring-inset ring-slate-400 hover:bg-black focus:z-10"),a(l,"type","button"),a(s,"type","button"),a(s,"class","relative -ml-px inline-flex items-center rounded-r-md bg-slate-600 px-3 py-2 text-sm font-semibold text-titleTextColor ring-1 ring-inset ring-slate-400 hover:bg-black focus:z-10"),a(n,"class","isolate inline-flex rounded-md shadow-sm mt-4")},m(f,m){I(f,t,m),I(f,o,m),I(f,n,m),y(n,l),y(n,r),y(n,s),c||(i=[L(l,"click",e[18]),L(s,"click",e[19])],c=!0)},p:P,i:P,o:P,d(f){f&&w(t),f&&w(o),f&&w(n),c=!1,J(i)}}}function We(e){let t,o,n=e[27].description+"",l,r,s;function c(){return e[20](e[27])}return{c(){t=b("div"),o=b("button"),l=Q(n),a(t,"class","text-descriptionTextColor text-sm mb-2")},m(i,f){I(i,t,f),y(t,o),y(o,l),r||(s=L(o,"click",c),r=!0)},p(i,f){e=i,f&4&&n!==(n=e[27].description+"")&&ee(l,n)},d(i){i&&w(t),r=!1,s()}}}function De(e){let t,o,n;return{c(){t=b("div"),t.textContent="No results found...",o=M(),n=b("div"),a(t,"class","text-descriptionTextColor"),a(n,"class","w-full border-t border-gray-600 mt-6 mb-2")},m(l,r){I(l,t,r),I(l,o,r),I(l,n,r)},d(l){l&&w(t),l&&w(o),l&&w(n)}}}function Xe(e){let t;return{c(){t=b("div"),a(t,"class","w-full border-t border-gray-600 mt-6 mb-2")},m(o,n){I(o,t,n)},d(o){o&&w(t)}}}function lo(e){let t,o,n,l,r,s,c,i=!e[3]&&Qe(e);const f=[no,oo,to],m=[];function d(p,u){return p[3]?0:p[0]?2:1}return l=d(e),r=m[l]=f[l](e),{c(){t=b("h2"),t.textContent="Prompt Storm",o=M(),i&&i.c(),n=M(),r.c(),s=rt(),a(t,"class","text-lg font-bold text-descriptionTextColor mb-4 mt-4"),a(t,"id","slide-over-title")},m(p,u){I(p,t,u),I(p,o,u),i&&i.m(p,u),I(p,n,u),m[l].m(p,u),I(p,s,u),c=!0},p(p,u){p[3]?i&&(i.d(1),i=null):i?i.p(p,u):(i=Qe(p),i.c(),i.m(n.parentNode,n));let h=l;l=d(p),l===h?m[l].p(p,u):(ye(),V(m[h],1,1,()=>{m[h]=null}),be(),r=m[l],r?r.p(p,u):(r=m[l]=f[l](p),r.c()),A(r,1),r.m(s.parentNode,s))},i(p){c||(A(r),c=!0)},o(p){V(r),c=!1},d(p){p&&w(t),p&&w(o),i&&i.d(p),p&&w(n),m[l].d(p),p&&w(s)}}}function ro(e){let t,o;return t=new Zt({props:{$$slots:{default:[lo]},$$scope:{ctx:e}}}),{c(){Ee(t.$$.fragment)},m(n,l){ve(t,n,l),o=!0},p(n,[l]){const r={};l&1073741839&&(r.$$scope={dirty:l,ctx:n}),t.$set(r)},i(n){o||(A(t.$$.fragment,n),o=!0)},o(n){V(t.$$.fragment,n),o=!1},d(n){we(t,n)}}}let Ye="test-id-123";function K(e){for(var t=document.getElementById(e);t!=null&&t.firstChild;)t.removeChild(t.firstChild)}async function io(e){return await fetch(`https://promptstorm.app/api/search-${e}`,{method:"GET"}).then(t=>t.json())}function so(e,t,o){let n=!1,l="",r=!0;Te(async function(){await Tt();const O=await fetch("https://promptstorm.app/api/categories",{method:"GET",mode:"cors"});o(9,s=await O.json()),O.ok||console.log("categories error"),Ke.get().then(B=>o(8,l=B.promptstormSessionId)).finally(()=>{l==""&&o(3,n=!0),console.log("promptstorm.svelte promptstormSessionId: "+l)}),p=Ut(Ye,f,s),new ne({target:document.querySelector("#category"),props:{promptSelect:p,promptSelectedOptionId:"",promptSelectedOptionTitle:"",updatePromptSelectOptionId:j}});const H=await fetch("https://promptstorm.app/api/subcategories",{method:"GET",mode:"cors"});o(10,c=await H.json()),H.ok||console.log("subcategories error")});let s,c,i=!1,f={option_id:"category",title:"Category",type:"select"},m={option_id:"subcategory",title:"SubCategory",type:"select"},d={option_id:"prompt",title:"Prompt",type:"select"},p,u,h,_=[],g,S,N=[];function j(O,H){H&&(o(15,N=c==null?void 0:c.filter(B=>B.category_id==H)),o(13,g=$t(Ye,m,N)),K("subcategory"),K("prompts"),K("prompt"),new ne({target:document.querySelector("#subcategory"),props:{promptSelect:g,promptSelectedOptionId:"",promptSelectedOptionTitle:"",updatePromptSelectOptionId:q}}))}async function q(O,H){if(o(11,u=H),u){const B=await fetch("https://promptstorm.app/api/prompts-"+u,{method:"GET"});if(o(2,_=await B.json()),!B.ok)throw new Error("Prompts retrieval error: "+B.statusText);o(14,S=eo(u,d,_)),K("prompts"),K("prompt"),new ne({target:document.querySelector("#prompts"),props:{promptSelect:S,promptSelectedOptionId:"",promptSelectedOptionTitle:"",updatePromptSelectOptionId:E}})}}async function E(O,H){if(o(12,h=H),h){const B=_.find(ue=>ue.prompt_id==h);B&&(K("prompt"),new Ft({target:document.querySelector("#prompt"),props:{selectedPrompt:B}}))}}function T(){o(2,_=[]),o(0,r=!r),console.log("activeTab: "+r),r==!0&&setTimeout(()=>{new ne({target:document.querySelector("#category"),props:{promptSelect:p,promptSelectedOptionId:"",promptSelectedOptionTitle:"",updatePromptSelectOptionId:j}})},150)}async function G(O){console.log("submitSearch: "+O),o(1,i=!1),await io(O).then(H=>{H.length==0&&o(1,i=!0),o(2,_=H)})}async function z(){o(2,_=[]),o(1,i=!1)}const D=()=>{T()},k=()=>{T()},x=()=>window.location.replace("https://promptstorm.app/sign-up"),C=()=>window.location.replace("https://promptstorm.app/sign-in"),R=O=>{E("",O.prompt_id)};return e.$$.update=()=>{e.$$.dirty&512,e.$$.dirty&1024,e.$$.dirty&2048,e.$$.dirty&4096,e.$$.dirty&32768,e.$$.dirty&8192,e.$$.dirty&16384,e.$$.dirty&256,e.$$.dirty&1,e.$$.dirty&4,e.$$.dirty&2},[r,i,_,n,E,T,G,z,l,s,c,u,h,g,S,N,D,k,x,C,R]}class co extends ce{constructor(t){super(),se(this,t,so,ro,W,{})}}Ke.get().then(console.log);new co({target:document.body});
